language: node_js

# Version number
node_js:
  - 0.10
  #- 0.12
 # - 4.2.3
  - iojs-v1
 # - iojs-v2
  #- iojs-v3
  - 5.0
  
env: 
  global:
    - FOO=GUTU
    - GOO=FUTU
  matrix:
    - M1=ONE
    - M2=TWO

matrix:
  include:
    - node_js: "5.0"
      env:
        - key1=aaa
        - key3=bbbb
  exclude:
    - node_js: "4.2.3"
   
build:
  pre_ci:
    - docker build -t=shiphitchcock1/auto_nod_env .

  pre_ci_boot:
      image_name: shiphitchcock1/auto_nod_env
      image_tag: latest
      pull: false
      options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'
  ci:
    - node --version
   # - sleep 3m
    - echo "$GOO"
    - echo "$FOO"
    - echo "$key1"
    - echo "$key2"
    - echo "$M1"
    - echo "$M2"
    
  post_ci:
    - docker shiphitchcock1/auto_nod_env
    
integrations:
  hub:
    - integrationName: shiphitchcock1-hub
      type: docker
